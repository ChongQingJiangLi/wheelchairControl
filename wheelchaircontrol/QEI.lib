https://os.mbed.com/users/jvfausto/code/QEI2/#17d461de6a8f
